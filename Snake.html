
<!DOCTYPE html>
<html>
    <p>ALL CREDIT GOES TO IMLADENOV.ORG</p>
    <head>
        <link rel="apple-touch-icon" sizes="180x180" href="/dogs/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/dogs/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/dogs/favicon-16x16.png">
        <link rel="icon" href="/dogs/favicon.ico" type="image/x-icon">
        <link rel="manifest" href="/dogs/site.webmanifest">
    </head>
    <p>Press the arrow keys or WASD to begin game.</p>
<canvas id = "gameCanvas" width = "400" height = "400"></canvas>
<script>
window.onload = function() {
    canvas = document.getElementById("gameCanvas");
    canvasContext = canvas.getContext("2d");
    document.addEventListener("keydown",keyPush);
    setInterval(game,1000/10);
}
xPlayer = yPlayer = 10;
gridSize = tileCount = 20;
xApple = yApple = 15;
xVelocity = yVelocity = 0;
trail = [];
tail = 5;
function game() {
    xPlayer += xVelocity;
    yPlayer += yVelocity;
    if(xPlayer < 0) {
        xPlayer = tileCount - 1;
    }
    if(xPlayer > tileCount - 1) {
        xPlayer = 0;
    }
    if(yPlayer < 0) {
        yPlayer = tileCount - 1;
    }
    if(yPlayer > tileCount - 1) {
        yPlayer = 0;
    }
    canvasContext.fillStyle = "black";
    canvasContext.fillRect(0, 0, canvas.width, canvas.height);
 
    canvasContext.fillStyle = "yellow";
    for(var i = 0; i < trail.length; i++) {
        canvasContext.fillRect(trail[i].x * gridSize, trail[i].y * gridSize, gridSize - 2, gridSize - 2);
        if(trail[i].x == xPlayer && trail[i].y == yPlayer) {
            tail = 3;
        }
    }
    trail.push({x:xPlayer, y:yPlayer});
    while(trail.length > tail) {
    trail.shift();
    }
 
    if(xApple == xPlayer && yApple == yPlayer) {
        tail++;
        xApple = Math.floor(Math.random() * tileCount);
        yApple = Math.floor(Math.random() * tileCount);
    }
    canvasContext.fillStyle = "red";
    canvasContext.fillRect(xApple * gridSize, yApple * gridSize, gridSize - 2, gridSize - 2);
}
function keyPush(evt) {
    switch(evt.keyCode) {
        case 37:
            xVelocity = -1;
            yVelocity = 0;
            break;
        case 38:
            xVelocity = 0;
            yVelocity = -1;
            break;
        case 39:
            xVelocity = 1; 
            yVelocity = 0;
            break;
        case 40:
            xVelocity = 0;
            yVelocity = 1;
            break;
        case 65:
            xVelocity = -1; 
            yVelocity = 0;
            break;
        case 87:
            xVelocity = 0; 
            yVelocity = -1;
            break;
        case 68:
            xVelocity = 1;
            yVelocity = 0;
            break;
        case 83:
            xVelocity = 0; 
            yVelocity = 1;
            break;
    }
}
</script>
    <p>Â© 2019 - Ivan Mladenov (Imladenov.org)</p>
</html>
